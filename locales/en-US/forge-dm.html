<script type="text/x-red" data-help-name="forge-dm">
	<p>Forge Data Management node. Manage Hubs, Projects, ...</p>
	<p>The node contains several operations; each operation requires specific mandatory and optional fields to run.</p>

	<h3>Operations</h3>
	<dl class="message-properties">
		<dt>operation <span class="property-type">string</span></dt>
		<dd>The Forge Data Management (DM) operation/endpoint to execute.</dd>
		
		<h3 class="forge">3 legged</h3>
		<dl class="message-properties forge">

			<h3 class="forge">Authorize</h3>
			<dl class="message-properties forge">
				<dd>This is the browser URL to redirect an end user to in order to acquire the user’s consent for your app to access the specified resources.</dd>
			</dl>

			<h3 class="forge">GetToken</h3>
			<dl class="message-properties forge">
				<dd>Exchange an authorization code extracted from a GET authorize callback for a three-legged access token. This API will only be used when the “Authorization Code” grant type is being adopted.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#code">code</a></dd>
			</dl>

			<h3 class="forge">Refresh</h3>
			<dl class="message-properties forge">
				<dd>Acquire a new access token by using the refresh token provided by the POST gettoken endpoint.</dd>
			</dl>

			<h3 class="forge">Me</h3>
			<dl class="message-properties forge">
				<dd>Get the profile information of an authorizing end user in a three-legged context.</dd>
			</dl>

		</dl>

		<h3 class="forge">Hubs</h3>
		<dl class="message-properties forge">

			<h3 class="forge">ListHubs</h3>
			<dl class="message-properties forge">
				<dd>Returns a collection of accessible hubs for this member.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">HubDetails</h3>
			<dl class="message-properties forge">
				<dd>Returns data on a specific hub_id.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#hubid">hubid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

		</dl>

		<h3 class="forge">Projects</h3>
		<dl class="message-properties forge">

			<h3 class="forge">ListProjects</h3>
			<dl class="message-properties forge">
				<dd>Returns a collection of projects for a given hub_id. A project represents a BIM 360 Team project, a Fusion Team project, a BIM 360 Docs project, or an A360 Personal project. Multiple projects can be created within a single hub.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#hubid">hubid</a>, <a href="#filters">filters</a>, <a href="#pageNumber">pageNumber</a>, <a href="#pageLimit">pageLimit</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ProjectDetails</h3>
			<dl class="message-properties forge">
				<dd>Returns a project for a given project_id.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#hubid">hubid</a>, <a href="#projectid">projectid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ProjectHubDetails</h3>
			<dl class="message-properties forge">
				<dd>Returns the hub for a given project_id.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#hubid">hubid</a>, <a href="#projectid">projectid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ListFolders</h3>
			<dl class="message-properties forge">
				<dd>Returns the details of the highest level folders the user has access to for a given project. The user must have at least read access to the folders.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#hubid">hubid</a>, <a href="#projectid">projectid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">Download</h3>
			<dl class="message-properties forge">
				<dd>Returns the details for a specific download.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#downloadid">downloadid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">JobInfo</h3>
			<dl class="message-properties forge">
				<dd>Returns the job_id object.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#jobid">jobid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">CreateDownloadType</h3>
			<dl class="message-properties forge">
				<dd>Request the creation of a new download for a specific and supported file type.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">CreateStorage</h3>
			<dl class="message-properties forge">
				<dd>Creates a storage location in the OSS where data can be uploaded to.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

		</dl>

		<h3 class="forge">Folders</h3>
		<dl class="message-properties forge">

			<h3 class="forge">FolderDetails</h3>
			<dl class="message-properties forge">
				<dd>Returns the folder by ID for any folder within a given project. All folders or sub-folders within a project are associated with their own unique ID, including the root folder.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#ifModifiedSince">ifModifiedSince</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">FolderContents</h3>
			<dl class="message-properties forge">
				<dd>Returns a collection of items and folders within a folder. Items represent word documents, fusion design files, drawings, spreadsheets, etc.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#filters">filters</a>, <a href="#includeHidden">includeHidden</a>, <a href="#pageNumber">pageNumber</a>, <a href="#pageLimit">pageLimit</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">FolderParent</h3>
			<dl class="message-properties forge">
				<dd>Returns the parent folder (if it exists). In a project, subfolders and resource items are stored under a folder except the root folder which does not have a parent of its own.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">FolderRefs</h3>
			<dl class="message-properties forge">
				<dd>Returns the resources (items, folders, and versions) that have a custom relationship with the given folder_id. </dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">FolderRelationshipsLinks</h3>
			<dl class="message-properties forge">
				<dd>Returns a collection of links for the given folder_id. Custom relationships can be established between a folder and other external resources residing outside the data domain service. A link’s href defines the target URI to access a resource.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">FolderRelationshipsRefs</h3>
			<dl class="message-properties forge">
				<dd>Returns the custom relationships that are associated with the given folder_id. Custom relationships can be established between a folder and other resources within the data domain service (folders, items, and versions).</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">Search</h3>
			<dl class="message-properties forge">
				<dd>Filters the data of a folder and recursively in the subfolders of any project accessible to you, using the filter query string parameter.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#filters">filters</a>, <a href="#pageNumber">pageNumber</a>, <a href="#pageLimit">pageLimit</a></dd>
			</dl>

			<h3 class="forge">CreateFolder</h3>
			<dl class="message-properties forge">
				<dd>Creates a new folder. To delete and restore folders, use the PATCH projects/:project_id/folders/:folder_id endpoint.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">CreateFolderRelationshipsRef</h3>
			<dl class="message-properties forge">
				<dd>Creates a custom relationship between a folder and another resource within the data domain service (folder, item, or version).</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ModifyFolder</h3>
			<dl class="message-properties forge">
				<dd>Modifies folder names. You can also use this endpoint to delete and restore BIM 360 Docs folders by using the hidden attribute.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#folderid">folderid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

		</dl>

		<h3 class="forge">Items</h3>
		<dl class="message-properties forge">

			<h3 class="forge">ItemDetails</h3>
			<dl class="message-properties forge">
				<dd>Retrieves metadata for a specified item. Items represent word documents, fusion design files, drawings, spreadsheets, etc.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#includePathInProject">includePathInProject</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ItemParentFolder</h3>
			<dl class="message-properties forge">
				<dd>Returns the “parent” folder for the given item.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ItemRefs</h3>
			<dl class="message-properties forge">
				<dd>Returns the resources (items, folders, and versions) that have a custom relationship with the given item_id.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ItemRelationshipsLinks</h3>
			<dl class="message-properties forge">
				<dd>Returns a collection of links for the given item_id.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ItemRelationshipsRefs</h3>
			<dl class="message-properties forge">
				<dd>Returns the custom relationships that are associated with the given item_id.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ItemTip</h3>
			<dl class="message-properties forge">
				<dd>Returns the “tip” version for the given item. Multiple versions of a resource item can be uploaded in a project. The tip version is the most recent one.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ItemVersions</h3>
			<dl class="message-properties forge">
				<dd>Returns versions for the given item. Multiple versions of a resource item can be uploaded in a project.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#filters">filters</a>, <a href="#pageNumber">pageNumber</a>, <a href="#pageLimit">pageLimit</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">CreateItemVersion</h3>
			<dl class="message-properties forge">
				<dd>Creates versions of uploaded files (items) and makes copies of existing files. You can only copy BIM 360 Docs files.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#copyFrom">copyFrom</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">CreateItemRelationshipsRef</h3>
			<dl class="message-properties forge">
				<dd>Creates a custom relationship between an item and another resource within the data domain service (folder, item, or version).</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ModifyItem</h3>
			<dl class="message-properties forge">
				<dd>Updates the properties of the given item_id object.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#itemid">itemid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

		</dl>

		<h3 class="forge">Versions</h3>
		<dl class="message-properties forge">

			<h3 class="forge">VersionDetails</h3>
			<dl class="message-properties forge">
				<dd>Returns the version with the given version_id.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">VersionDownloadFormats</h3>
			<dl class="message-properties forge">
				<dd>Returns a collection of file formats this version could be converted to and downloaded as.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">VersionDownloads</h3>
			<dl class="message-properties forge">
				<dd>Returns a set of already available downloads for this version.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">VersionItem</h3>
			<dl class="message-properties forge">
				<dd>Returns the item the given version is associated with.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">VersionRefs</h3>
			<dl class="message-properties forge">
				<dd>Returns the resources (items, folders, and versions) that have a custom relationship with the given version_id.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">VersionRelationshipsLinks</h3>
			<dl class="message-properties forge">
				<dd>Returns a collection of links for the given item_id-version_id object. Custom relationships can be established between a version of an item and other external resources residing outside the data domain service. A link’s href defines the target URI to access a resource.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">VersionRelationshipsRefs</h3>
			<dl class="message-properties forge">
				<dd>Returns the custom relationships that are associated with the given version_id. Custom relationships can be established between a version of an item and other resources within the data domain service (folders, items, and versions).</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#filters">filters</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">CreateVersion</h3>
			<dl class="message-properties forge">
				<dd>Creates new versions of a file (item), except for the first version of the item. To create the first version of the item, use POST items.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#copyFrom">copyFrom</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">CreateVersionRelationshipsRef</h3>
			<dl class="message-properties forge">
				<dd>Creates a custom relationship between a version and another resource within the data domain service (folder, item, or version).</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

			<h3 class="forge">ModifyVersion</h3>
			<dl class="message-properties forge">
				<dd>Updates the properties of the given version_id object.</dd>
				<dd><b>Parameters</b></dd>
				<dd><a href="#projectid">projectid</a>, <a href="#versionid">versionid</a>, <a href="#body">body</a>, <a href="#xuserid">xuserid</a></dd>
			</dl>

		</dl>

	</dl>

	<h3>Parameters</h3>

	<a name="hubid" />
	<dl class="message-properties">
		<dt>hubid <span class="property-type">string</span></dt>
		<dd>The unique identifier of a hub.</dd>
	</dl>

	<a name="projectid" />
	<dl class="message-properties">
		<dt>projectid <span class="property-type">string</span></dt>
		<dd>The unique identifier of a project.</dd>
	</dl>

	<a name="folderid" />
	<dl class="message-properties">
		<dt>folderid <span class="property-type">string</span></dt>
		<dd>The unique identifier of a folder.</dd>
	</dl>

	<a name="itemid" />
	<dl class="message-properties">
		<dt>itemid <span class="property-type">string</span></dt>
		<dd>The unique identifier of an item.</dd>
	</dl>

	<a name="versionid" />
	<dl class="message-properties">
		<dt>versionid <span class="property-type">string</span></dt>
		<dd>The unique identifier of a version.</dd>
	</dl>

	<a name="filters" />
	<dl class="message-properties">
		<dt>filters <span class="property-type">string</span></dt>
		<dd>Filters query reponse. Array of objects of type { id: '', custom: '', modifier: '', expr: '' } </ br>
			filter[&lt;id&gt;]=&lt;expr&gt;</ br>
			filter[&lt;custom fieldname&gt;]=&lt;expr&gt;</ br>
			filter[&lt;id>]&lt;modifier&gt;=&lt;expr&gt;
		</dd>
	</dl>

	<a name="ifModifiedSince" />
	<dl class="message-properties">
		<dt>ifModifiedSince <span class="property-type">string</span></dt>
		<dd>If the requested object has not been modified since the time specified in this field, an entity will not be returned from the server; instead, a 304 (not modified) response will be returned without any message-body.</dd>
	</dl>

	<a name="includePathInProject" />
	<dl class="message-properties">
		<dt>includePathInProject <span class="property-type">boolean</span></dt>
		<dd>Specify whether to return pathInProject attribute in response for BIM 360 Docs projects. pathInProject is the relative path of the item starting from project’s root folder.</dd>
	</dl>

	<a name="pageNumber" />
	<dl class="message-properties">
		<dt>pageNumber <span class="property-type">integer</span></dt>
		<dd>Specify the page number.</dd>
	</dl>

	<a name="pageLimit" />
	<dl class="message-properties">
		<dt>pageLimit <span class="property-type">integer</span></dt>
		<dd>Specify the maximal number of elements per page.</dd>
	</dl>

	<a name="downloadid" />
	<dl class="message-properties">
		<dt>downloadid <span class="property-type">string</span></dt>
		<dd>The unique identifier of a download job.</dd>
	</dl>

	<a name="jobid" />
	<dl class="message-properties">
		<dt>jobid <span class="property-type">string</span></dt>
		<dd>The unique identifier of a job.</dd>
	</dl>

	<a name="body" />
	<dl class="message-properties">
		<dt>body <span class="property-type">object</span></dt>
		<dd>The POST body is a JSON object.</dd>
	</dl>

	<a name="copyFrom" />
	<dl class="message-properties">
		<dt>copyFrom <span class="property-type">string</span></dt>
		<dd>Only relevant for copying files to BIM 360 Docs - the version ID (URN) of the file to copy.</dd>
	</dl>

	<a name="includeHidden" />
	<dl class="message-properties">
		<dt>includeHidden <span class="property-type">boolean</span></dt>
		<dd>Refers to items and folders that were deleted from BIM 360 Docs projects.</dd>
	</dl>

	<a name="code" />
	<dl class="message-properties">
		<dt>code <span class="property-type">string</span></dt>
		<dd>The authorization code captured from the code query parameter when the GET authorize redirected back to the callback URL.</dd>
	</dl>

	<a name="raw" />
	<dl class="message-properties">
		<dt>raw <span class="property-type">boolean</span></dt>
		<dd>Get the raw HTPP response (includes headers and statusCode).</dd>
	</dl>

<h3>Details</h3>
	<p><code>msg.payload</code> is used as the payload of the published message.</p>
	<p>The topic used can be configured in the node or, if left blank, can be set by <code>msg.topic</code>.</p>
	
<h3>References</h3>
	<ul>
	<li><a href="https://forge.autodesk.com/en/docs/data/v2/developers_guide/overview/">Forge Data Management</a></li>
	<li><a href="https://forge.autodesk.com/en/docs/data/v2/reference/http/">API Reference</a></li>
	<li><a href="https://forge.autodesk.com/blog">Forge Blogs</a></li>
	</ul>

</script>